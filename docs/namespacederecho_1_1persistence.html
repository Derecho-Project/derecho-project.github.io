<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Derecho: derecho::persistence Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Derecho
   &#160;<span id="projectnumber">1.2</span>
   </div>
   <div id="projectbrief">Distributed systems toolkit for RDMA</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacederecho.html">derecho</a></li><li class="navelem"><a class="el" href="namespacederecho_1_1persistence.html">persistence</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">derecho::persistence Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structderecho_1_1persistence_1_1message.html">message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ade80bbef6080ea399d9bc849d8d6cf2e"><td class="memItemLeft" align="right" valign="top">struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacederecho_1_1persistence.html#ade80bbef6080ea399d9bc849d8d6cf2e">__attribute__</a> ((__packed__)) header</td></tr>
<tr class="separator:ade80bbef6080ea399d9bc849d8d6cf2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a0e3672d04659c77218a34b3318521"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a98a0e3672d04659c77218a34b3318521"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacederecho_1_1persistence.html#a98a0e3672d04659c77218a34b3318521">persist_object</a> (const T &amp;object, const std::string &amp;filename)</td></tr>
<tr class="memdesc:a98a0e3672d04659c77218a34b3318521"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persists an object to disk, using mutils-serialization functions.  <a href="#a98a0e3672d04659c77218a34b3318521">More...</a><br /></td></tr>
<tr class="separator:a98a0e3672d04659c77218a34b3318521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51092a27dde061a022d47d0b825f9c4f"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a51092a27dde061a022d47d0b825f9c4f"><td class="memTemplItemLeft" align="right" valign="top">std::unique_ptr&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacederecho_1_1persistence.html#a51092a27dde061a022d47d0b825f9c4f">load_object</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a51092a27dde061a022d47d0b825f9c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inverse of persist_object; loads an object from disk using the mutils-serialization deserialize functions.  <a href="#a51092a27dde061a022d47d0b825f9c4f">More...</a><br /></td></tr>
<tr class="separator:a51092a27dde061a022d47d0b825f9c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ade80bbef6080ea399d9bc849d8d6cf2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct derecho::persistence::__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(__packed__)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="persistence_8h_source.html#l00027">27</a> of file <a class="el" href="persistence_8h_source.html">persistence.h</a>.</p>

</div>
</div>
<a class="anchor" id="a51092a27dde061a022d47d0b825f9c4f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;T&gt; derecho::persistence::load_object </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inverse of persist_object; loads an object from disk using the mutils-serialization deserialize functions. </p>
<p>This function tries to load the object from both the given filename and its corresponding swap file, and returns the object from the swap file if (and only if) the object from the expected file is empty or incomplete. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the file to read for a serialized object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(by pointer) A new object of type T constructed with the data in this file </dd></dl>

<p>Definition at line <a class="el" href="persistence_8h_source.html#l00084">84</a> of file <a class="el" href="persistence_8h_source.html">persistence.h</a>.</p>

</div>
</div>
<a class="anchor" id="a98a0e3672d04659c77218a34b3318521"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void derecho::persistence::persist_object </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Persists an object to disk, using mutils-serialization functions. </p>
<p>Uses the "safe save" method (writing to a swap file first) to handle crashes during the write to disk. The created file will first contain the size of the serialized object, followed by the serialized object itself. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>Any object that is serializable using mutils::to_bytes </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file to create when saving this object to disk. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="persistence_8h_source.html#l00060">60</a> of file <a class="el" href="persistence_8h_source.html">persistence.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 25 2017 17:38:26 for Derecho by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
